<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>jQuery系统教程 | Coder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="JavaScript,jQuery">
    <meta name="description" content="jQuery系统教程">
<meta property="og:type" content="article">
<meta property="og:title" content="jQuery系统教程">
<meta property="og:url" content="https://lastknightcoder.gitee.io/jQuery%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B/">
<meta property="og:site_name" content="Coder">
<meta property="og:description" content="jQuery系统教程">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028155129.jpg">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028155257.jpg">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028155424.jpg">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028155628.jpg">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028155826.jpg">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028155934.jpg">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028160134.jpg">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028160335.jpg">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028160953.jpg">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028160953.jpg">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028171123.gif">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028171305.gif">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/img/202004011106.gif">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/img/202004011118.gif">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/img/202004011122.gif">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/img/202004011129.gif">
<meta property="og:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028163216.gif">
<meta property="article:published_time" content="2020-04-07T15:00:00.000Z">
<meta property="article:modified_time" content="2020-04-07T15:00:00.000Z">
<meta property="article:author" content="熊滔">
<meta property="article:tag" content="jQuery 教程">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028155129.jpg">
    
        <link rel="alternate" type="application/atom+xml" title="Coder" href="https://lastknightcoder.gitee.io/atom.xml">
    
    <link rel="shortcut icon" href="https://lastknightcoder.gitee.io/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(https://lastknightcoder.gitee.io/img/brand.jpg)">
      <div class="brand">
        <a href="https://lastknightcoder.gitee.io/" class="avatar waves-effect waves-circle waves-light">
          <img src="https://lastknightcoder.gitee.io/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">熊滔</h5>
          <a href="mailto:2223106858@qq.com" title="2223106858@qq.com" class="mail">2223106858@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="https://lastknightcoder.gitee.io/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://lastknightcoder.gitee.io/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://lastknightcoder.gitee.io/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://lastknightcoder.gitee.io/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://gitee.com/LastKnightCoder" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">jQuery系统教程</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">jQuery系统教程</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-04-07T15:00:00.000Z" itemprop="datePublished" class="page-time">
  2020-04-07
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="https://lastknightcoder.gitee.io/categories/JavaScript/">JavaScript</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#jQuery核心函数"><span class="post-toc-number">1.</span> <span class="post-toc-text">jQuery核心函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#选择元素"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">选择元素</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#将-HTML-字符串转化为-jQuery-对象"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">将 HTML 字符串转化为 jQuery 对象</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#作为入口函数"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">作为入口函数</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#将-DOM-元素转化为-jQuery-对象"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">将 DOM 元素转化为 jQuery 对象</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#操作-jQuery-集合"><span class="post-toc-number">2.</span> <span class="post-toc-text">操作 jQuery 集合</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#添加元素"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">添加元素</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#过滤元素"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">过滤元素</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#遍历集合"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">遍历集合</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#集合查找"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">集合查找</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#转换集合"><span class="post-toc-number">2.5.</span> <span class="post-toc-text">转换集合</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#操作-DOM-元素的属性和类属性"><span class="post-toc-number">3.</span> <span class="post-toc-text">操作 DOM 元素的属性和类属性</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#操作属性"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">操作属性</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#在新的页面打开标签"><span class="post-toc-number">3.1.1.</span> <span class="post-toc-text">在新的页面打开标签</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#解决双重提交"><span class="post-toc-number">3.1.2.</span> <span class="post-toc-text">解决双重提交</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#操作类属性"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">操作类属性</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#操作样式"><span class="post-toc-number">4.</span> <span class="post-toc-text">操作样式</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#获取元素宽度"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">获取元素宽度</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#获取元素位置"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">获取元素位置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#offset"><span class="post-toc-number">4.2.1.</span> <span class="post-toc-text">offset</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#position"><span class="post-toc-number">4.2.2.</span> <span class="post-toc-text">position</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#操作-DOM-元素"><span class="post-toc-number">5.</span> <span class="post-toc-text">操作 DOM 元素</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#设置-html-内容以及文本内容"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">设置 html 内容以及文本内容</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#追加元素"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">追加元素</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#删除元素"><span class="post-toc-number">5.3.</span> <span class="post-toc-text">删除元素</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#复制元素"><span class="post-toc-number">5.4.</span> <span class="post-toc-text">复制元素</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#替换元素"><span class="post-toc-number">5.5.</span> <span class="post-toc-text">替换元素</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#处理表单元素"><span class="post-toc-number">5.6.</span> <span class="post-toc-text">处理表单元素</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#jQuery-事件"><span class="post-toc-number">6.</span> <span class="post-toc-text">jQuery 事件</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#绑定事件"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">绑定事件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#解绑事件"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">解绑事件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#触发事件"><span class="post-toc-number">6.3.</span> <span class="post-toc-text">触发事件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#其他事件"><span class="post-toc-number">6.4.</span> <span class="post-toc-text">其他事件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Event实例"><span class="post-toc-number">6.5.</span> <span class="post-toc-text">Event实例</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#jQuery-显示与隐藏"><span class="post-toc-number">7.</span> <span class="post-toc-text">jQuery 显示与隐藏</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#显示和隐藏元素"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">显示和隐藏元素</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#显示隐藏动画"><span class="post-toc-number">7.2.</span> <span class="post-toc-text">显示隐藏动画</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#jQuery-动画"><span class="post-toc-number">8.</span> <span class="post-toc-text">jQuery 动画</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#自定义缩放动画"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">自定义缩放动画</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#自定义掉落动画"><span class="post-toc-number">8.2.</span> <span class="post-toc-text">自定义掉落动画</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#jQuery扩展及实用函数"><span class="post-toc-number">9.</span> <span class="post-toc-text">jQuery扩展及实用函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#jQuery与其他库并存"><span class="post-toc-number">9.1.</span> <span class="post-toc-text">jQuery与其他库并存</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#jQuery实用函数"><span class="post-toc-number">9.2.</span> <span class="post-toc-text">jQuery实用函数</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#扩展jQuery"><span class="post-toc-number">9.3.</span> <span class="post-toc-text">扩展jQuery</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Ajax"><span class="post-toc-number">10.</span> <span class="post-toc-text">Ajax</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#启动一个Node来进行服务端测试"><span class="post-toc-number">10.1.</span> <span class="post-toc-text">启动一个Node来进行服务端测试</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#回顾Ajax"><span class="post-toc-number">10.2.</span> <span class="post-toc-text">回顾Ajax</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#jQuery-发起-Ajax-请求"><span class="post-toc-number">10.3.</span> <span class="post-toc-text">jQuery 发起 Ajax 请求</span></a></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-jQuery系统教程"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">jQuery系统教程</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-04-07 23:00:00" datetime="2020-04-07T15:00:00.000Z"  itemprop="datePublished">2020-04-07</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="https://lastknightcoder.gitee.io/categories/JavaScript/">JavaScript</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>本篇文章是在完整学习 <code>jQuery</code> 以后，系统整理的教程，大纲如下</p>
<ul>
<li><code>jQuery</code> 的核心函数 <code>$, jQuery</code></li>
<li>操作 <code>jQuery</code> 集合</li>
<li>操作 <code>DOM</code> 元素的属性和类属性</li>
<li>操作样式</li>
<li>操作 <code>DOM</code> 元素(添加，删除…)</li>
<li><code>jQuery</code> 事件</li>
<li><code>jQuery</code> 显示与隐藏</li>
<li><code>jQuery</code> 动画</li>
<li><code>jQuery</code> 扩展及实用函数</li>
<li><code>Ajax</code></li>
</ul>
<h2 id="jQuery核心函数"><a href="#jQuery核心函数" class="headerlink" title="jQuery核心函数"></a>jQuery核心函数</h2><p><code>jQuery</code> 这个库中最重要的就是它提供的核心函数 <code>jQuery()</code> ，它提供了非常强大的功能，因为这个函数用的十分的频繁，所以提供了 <code>jQuery()</code> 的别名，那就是 <code>$()</code> ，在后面的演示中都将会以 <code>$</code> 为例，现在我们来看一下该核心函数提供了哪些功能</p>
<ul>
<li>选择多个 <code>DOM</code> 元素</li>
<li>将 <code>HTML</code> 字符串得解析为一个 <code>DOM</code> 元素</li>
<li>作为入口函数</li>
<li>将 <code>DOM</code> 元素转换为 <code>jQuery</code> 集合</li>
</ul>
<p>上面有些名词可能没有听过，这里只是感性了解一下，下面就具体讲解。</p>
<h3 id="选择元素"><a href="#选择元素" class="headerlink" title="选择元素"></a>选择元素</h3><p>考虑下面的 <code>DOM</code> 结构</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>如果使用原生的 <code>JavaScript</code> 选择上面的元素的写法如下</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"box"</span>);</span><br><span class="line"><span class="built_in">document</span>.getElementsByClassName(<span class="string">"container"</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="built_in">document</span>.getElementsByTagName(<span class="string">"p"</span>)[<span class="number">0</span>];</span><br></pre></td></tr></table></figure>

<p>而现在使用 <code>$()</code> 函数，为其传入 <code>CSS</code> 的选择器即可选中元素</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"#box"</span>);</span><br><span class="line">$(<span class="string">".container"</span>);</span><br><span class="line">$(<span class="string">"p"</span>);</span><br></pre></td></tr></table></figure>

<p>使用 <code>$()</code> 得到的是一个集合，即使使用了 <code>id</code> 选择器 <code>#box</code> ，得到也是一个只有一个元素的集合，如下</p>
<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028155129.jpg" alt="2020-10-28_154955" style="zoom:50%;" />


<p>我们把它称为 <code>jQuery</code> 对象或者 <code>jQuery</code> 集合，在下面我将不会区分二者，可能会混合使用，请注意。由上可见， <code>jQuery</code> 对象的结构像是一个数组，但它不是真正的数组，因为他不是 <code>Array</code> 的实例，只是使用对象来模拟数组， <code>jQuery</code> 对象中的元素(借用数组的概念)是被选择的 <code>DOM</code> 元素。 <code>jQuery</code> 的核心函数支持几乎所有的 <code>CSS</code> 选择器，如</p>
<ul>
<li><p>属性选择器</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[value]</span> <span class="comment">/* 选择有 value 属性的 input 标签 */</span></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">'text'</span>]</span> <span class="comment">/* 选择 type 为 text 的 input 标签 */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-attr">[href^=<span class="string">'http://'</span>]</span> <span class="comment">/* 选择 href 以 http:// 开头的 a 标签 */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-attr">[href$=<span class="string">'pdf'</span>]</span> <span class="comment">/* 选择 href 以 pdf 结尾的 a 标签 */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-attr">[href*=<span class="string">'jquery'</span>]</span> <span class="comment">/* 选择 href 属性包含 jquery 的 a 标签 */</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>伪类选择器</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:first</span></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:odd</span></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:even</span></span><br><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>过滤器</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:animated</span> <span class="comment">/* 处于动画状态的元素 */</span></span><br><span class="line"><span class="selector-pseudo">:checkbox</span> <span class="comment">/* 相当于 input[type='chexkbox'] */</span></span><br><span class="line"><span class="selector-pseudo">:checked</span> <span class="comment">/* 选择处于选中状态的多选框或单选框 */</span></span><br><span class="line"><span class="selector-pseudo">:disabled</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
</li>
<li><p>…</p>
</li>
</ul>
<p>选择器十分的多，由于重点不在于选择器，另外这个也没有什么原理可讲，也就是 <code>API</code> 的使用，随着使用 <code>jQuery</code> 的增多，自然会掌握，所以这里就点到即止。</p>
<h3 id="将-HTML-字符串转化为-jQuery-对象"><a href="#将-HTML-字符串转化为-jQuery-对象" class="headerlink" title="将 HTML 字符串转化为 jQuery 对象"></a>将 HTML 字符串转化为 jQuery 对象</h3><p>这里首先解释一下什么叫做 HTML 字符串，不给出具体的定义，很好理解，形如下面的字符串就叫做 HTML 字符串</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">"&lt;p&gt;123&lt;/p&gt;"</span></span><br><span class="line"><span class="string">"&lt;h1&gt;一级标题&lt;/h1&gt;"</span></span><br></pre></td></tr></table></figure>

<p>当我们向 <code>jQuery</code> 的核心函数传递这样的字符串时，核心函数会将该字符串解析得到一个 <code>jQuery</code> 对象，如</p>
<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028155257.jpg" alt="2020-10-28_155232" style="zoom:50%;" />


<h3 id="作为入口函数"><a href="#作为入口函数" class="headerlink" title="作为入口函数"></a>作为入口函数</h3><p>因为我们一般会在 <code>JavaScript</code> 中操作 <code>DOM</code> ，所以我们一般会等到 <code>DOM</code> 树渲染完毕之后再去执行 <code>JavaScript</code> 代码，所以我们一般把 <code>script</code> 标签放在 <code>body</code> 元素的最后面，或者将代码放在 <code>window.onload</code> 中，如下</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 要执行的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>onload</code> 方法会在 <code>DOM</code> 树渲染完毕，并且外部资源如图片等等加载完毕后会执行，虽然能够满足我们的需求，但是在等待静态资源加载的时候，用户是不能与页面进行交互的，这时用户就会感觉页面卡死了，体验感十分不好。我们只是希望在 <code>DOM</code> 树渲染完毕后就执行代码，那么可以使用 <code>ready()</code> 函数，如下</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 要执行的代码</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>这里要执行的代码在 <code>DOM</code> 树渲染完毕后即可执行，而不必等到资源加载完毕。上面的写法可以简写为</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 要执行的代码</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="将-DOM-元素转化为-jQuery-对象"><a href="#将-DOM-元素转化为-jQuery-对象" class="headerlink" title="将 DOM 元素转化为 jQuery 对象"></a>将 DOM 元素转化为 jQuery 对象</h3><p>为核心函数传入 <code>DOM</code> 元素，会返回一个 <code>jQuery</code>对象，该对象包含了这个 <code>DOM</code> 元素，如下</p>
<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028155424.jpg" alt="2020-10-28_155403" style="zoom:50%;" />


<p>将 <code>DOM</code> 元素转化为 <code>jQuery</code> 对象可以使用 <code>jQuery</code> 对象原型上的方法，这些方法想较于原生方法方便很多。</p>
<blockquote>
<p>如何将 <code>jQuery</code> 对象转化为DOM元素呢? 我们知道 <code>jQuery</code> 对象的结构是类似于数组，其中的每一个元素都是 <code>DOM</code> 对象，我们可以使用下标的方式获取 <code>DOM</code> 元素，如下两种方法都是可以的</p>
<ul>
<li><code>jQuery对象[index]</code></li>
<li><code>jQuery对象.get(index)</code>，该方法可以接受负数，表示倒数</li>
</ul>
</blockquote>
<h2 id="操作-jQuery-集合"><a href="#操作-jQuery-集合" class="headerlink" title="操作 jQuery 集合"></a>操作 jQuery 集合</h2><p>在本节会使用 <code>jQuery</code> 集合这一叫法，因为往里面添加元素或者删除元素等等操作，集合的叫法比对象的叫法更加的符合。如果不做说明，下面操作的<code>DOM</code>为以下</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="添加元素"><a href="#添加元素" class="headerlink" title="添加元素"></a>添加元素</h3><p>使用 <code>jQuery</code> 集合调用 <code>add</code> 方法为集合添加元素， <code>add</code> 方法可以接收不同类型的参数，如下</p>
<ul>
<li><code>jQuery</code> 选择器：将与 <code>jQuery</code> 选择器匹配的所有 <code>DOM</code> 元素添加到集合中</li>
<li><code>DOM</code> 元素或 DOM 元素组成的数组：将 <code>DOM</code> 元素或数组中的元素添加到集合中</li>
<li><code>HTML</code> 字符串：将 <code>HTML</code> 字符串解析为 <code>DOM</code> 元素后添加到集合中</li>
</ul>
<p>该方法会返回一个新的 <code>jQuery</code> 集合，例子如下</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> collection = $(<span class="string">"#box"</span>);</span><br><span class="line">collection = collection.add(<span class="string">".container"</span>); <span class="comment">// 添加一个 jQuery 选择器</span></span><br><span class="line">collection = collection.add(<span class="built_in">document</span>.getElementsByTagName(<span class="string">"p"</span>)[<span class="number">0</span>]); <span class="comment">// 添加一个 DOM 元素</span></span><br><span class="line">collection = collection.add(<span class="string">"&lt;h1&gt;123&lt;/h1&gt;"</span>); <span class="comment">// 添加一个 HTML 字符串</span></span><br><span class="line"><span class="built_in">console</span>.dir(collection);</span><br></pre></td></tr></table></figure>

<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028155628.jpg" width="100%">


<h3 id="过滤元素"><a href="#过滤元素" class="headerlink" title="过滤元素"></a>过滤元素</h3><p>过滤集合中的元素有两种方法，一个是 <code>not</code>，一个是 <code>filter</code>，两个方法的侧重点不同， <code>not</code> 方法会删除掉集合中符合条件的元素，返回新集合；而 <code>filter</code> 的语义是保留集合中符合条件的元素，返回一个新集合。二者接收的参数同 <code>add</code> 方法一样，除此之外，还可以接受一个函数，集合中的每一个元会素调用该函数，根据函数的返回值来决定元素的去留，比如对于 <code>not</code> 方法，如果函数返回 <code>true</code>，则删除此元素，对于 <code>filter</code> 则相反，如果返回 <code>true</code>，则保留此元素。这些传入的函数中的上下文(也就是 <code>this</code>)指向调用该函数的元素。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> collection = $(<span class="string">"#box"</span>);</span><br><span class="line">collection = collection.add(<span class="string">".container"</span>); <span class="comment">// 添加一个 jQuery 选择器</span></span><br><span class="line">collection = collection.add(<span class="built_in">document</span>.getElementsByTagName(<span class="string">"p"</span>)[<span class="number">0</span>]); <span class="comment">// 添加一个 DOM 元素</span></span><br><span class="line">collection = collection.add(<span class="string">"&lt;h1&gt;123&lt;/h1&gt;"</span>); <span class="comment">// 添加一个 HTML 字符串</span></span><br><span class="line">collection = collection.not(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> $(<span class="keyword">this</span>).html() === <span class="string">"123"</span>; <span class="comment">// 删除掉 html 内容为 123 的，也就是 h1 标签</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.dir(collection);</span><br></pre></td></tr></table></figure>

<p>根据上面的代码，此时集合中只有三个元素，将 <code>h1</code> 元素滤除了</p>
<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028155826.jpg" alt="2020-10-28_155805" style="zoom:50%;" />


<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> collection = $(<span class="string">"#box"</span>);</span><br><span class="line">collection = collection.add(<span class="string">".container"</span>); <span class="comment">// 添加一个 jQuery 选择器</span></span><br><span class="line">collection = collection.add(<span class="built_in">document</span>.getElementsByTagName(<span class="string">"p"</span>)[<span class="number">0</span>]); <span class="comment">// 添加一个 DOM 元素</span></span><br><span class="line">collection = collection.add(<span class="string">"&lt;h1&gt;123&lt;/h1&gt;"</span>); <span class="comment">// 添加一个 HTML 字符串</span></span><br><span class="line">collection = collection.filter(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> $(<span class="keyword">this</span>).html() === <span class="string">"123"</span>; <span class="comment">// 保留 html 内容为 123 的，也就是 h1 标签</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.dir(collection);</span><br></pre></td></tr></table></figure>

<p>将上面的 <code>not</code> 改为 <code>filter</code>，这时集合里面就只有一个元素，那就是 <code>h1</code> 元素</p>
<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028155934.jpg" alt="2020-10-28_155917" style="zoom:50%;" />


<blockquote>
<p>通过上面几个方法的学习，我们知道这些方法返回的都是一个新的 <code>jQuery</code> 集合，这意味着可以接着<code>.</code>，如下</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> collection = $(<span class="string">"#box"</span>)</span><br><span class="line">                    .add(<span class="string">".container"</span>)</span><br><span class="line">                    .add(<span class="built_in">document</span>.getElementsByTagName(<span class="string">"p"</span>)[<span class="number">0</span>])</span><br><span class="line">                    .add(<span class="string">"&lt;h1&gt;123&lt;/h1&gt;"</span>)</span><br><span class="line">                    .filter(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                        <span class="keyword">return</span> $(<span class="keyword">this</span>).html() === <span class="string">"123"</span>;</span><br><span class="line">                    &#125;);</span><br></pre></td></tr></table></figure>

<p>这样写起来明显比上面写起来爽多了，这种写法叫做链式编程，像链子一样，一个接着一个。</p>
</blockquote>
<h3 id="遍历集合"><a href="#遍历集合" class="headerlink" title="遍历集合"></a>遍历集合</h3><p>使用 <code>each</code> 方法遍历集合，该方法接收一个函数，集合中的每一个元素都会调用 <code>each</code> 中传入的函数，该函数的上下文会被设定为该元素，如</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>5<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log($(<span class="keyword">this</span>).html())</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028160134.jpg" alt="2020-10-28_160115" style="zoom:50%;" />


<h3 id="集合查找"><a href="#集合查找" class="headerlink" title="集合查找"></a>集合查找</h3><ul>
<li><p><code>is(selector)</code>：判断是否集合中是否包含与选择器匹配的元素，包含返回 <code>true</code>，否则返回 <code>false</code></p>
</li>
<li><p><code>has(test)</code>：<code>test</code> 可以为选择器，也可以为 <code>DOM</code> 元素，它判断的是集合中的元素的后代中是否包含与 <code>test</code> 匹配的元素，如果集合中某元素 <code>e</code> 的后代包含与 <code>test</code> 匹配的元素，则将元素 <code>e</code> 添加到新的集合中，最后返回该集合，如</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// $("div")中有两个元素，只有第一个div元素的后代有ol元素</span></span><br><span class="line"><span class="comment">// 所以返回的新的集合中包含一个元素，是第一个div元素</span></span><br><span class="line">$(<span class="string">"div"</span>).has(<span class="string">"ol"</span>); </span><br><span class="line"><span class="comment">// 两个元素的后代都有li元素，所以新集合中的元素与原集合相同</span></span><br><span class="line">$(<span class="string">"div"</span>).has(<span class="string">"li"</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>find(selector)</code>：该方法会遍历集合中的所有元素，在这些元素的后代找到匹配 <code>selector</code> 的元素，然后将这些匹配的元素添加到一个新的集合中，并返回该新的集合</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).find(<span class="string">"img"</span>) <span class="comment">// 在所有div标签中找到img标签，返回这些img标签组成的集合</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="转换集合"><a href="#转换集合" class="headerlink" title="转换集合"></a>转换集合</h3><p><code>jQuery</code> 对象有一个 <code>map</code> 方法，该方法与数组的 <code>map</code> 方法一样，接收一个回调函数，集合中的每一个元素都会调用该函数，该函数的返回值会被添加到新的集合中并返回(如果返回的是 <code>null</code> 或者 <code>undefined</code> 则不会添加到新的集合中)，该函数有两个参数，第一个参数是元素在集合中的下标，第二个参数是调用该函数的元素。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>5<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).map(<span class="function"><span class="keyword">function</span>(<span class="params">index, element</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> index;</span><br><span class="line">    <span class="comment">// get()方法会将集合转变为一个真正的数组</span></span><br><span class="line">&#125;).get().join(<span class="string">", "</span>); <span class="comment">//"0, 1, 2, 3, 4"</span></span><br></pre></td></tr></table></figure>

<h2 id="操作-DOM-元素的属性和类属性"><a href="#操作-DOM-元素的属性和类属性" class="headerlink" title="操作 DOM 元素的属性和类属性"></a>操作 DOM 元素的属性和类属性</h2><h3 id="操作属性"><a href="#操作属性" class="headerlink" title="操作属性"></a>操作属性</h3><p>我们可以使用<code>attr()</code>方法方便的操作 <code>DOM</code> 元素的属性</p>
<ul>
<li><p><code>attr(name, value)</code>：为名字为 <code>name</code> 的属性设置值为 <code>value</code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).attr(<span class="string">"id"</span>, <span class="string">"box"</span>); <span class="comment">// 将所有 div 标签的 id 设置为 box</span></span><br></pre></td></tr></table></figure>

<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028160335.jpg" width="40%"/>
</li>
<li><p><code>attr(name)</code>：获取集合中第一个元素中属性名字为 <code>name</code> 的值</p>
</li>
<li><p><code>attr(attributes)</code>：以对象的形式来设置属性值</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">".attr"</span>).attr(&#123;</span><br><span class="line">    title: <span class="string">"cat"</span>, <span class="comment">// 设置 title 属性为 cat</span></span><br><span class="line">    id: <span class="string">"cat"</span> <span class="comment">// 设置 id 属性为 cat</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>removeAttr(name)</code>：删除指定名称的属性</p>
</li>
</ul>
<blockquote>
<p>经过测试，发现 <code>attr()</code> 方法可以设置任意属性的值(我的意思是指即使这些属性是不存在的，比如  <code>dog</code> 也可以设置，而这些不存在的属性称为自定义属性)，比如</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">attr(<span class="string">"dog"</span>, <span class="string">"dog"</span>); <span class="comment">// 为 dog 属性设置值为 dog</span></span><br></pre></td></tr></table></figure>

<p>上面的 <code>dog</code> 就是自定义的属性名。在 <code>HTML5</code> 中建议自定义属性名以 <code>data-</code> 开头，如 <code>data-dog</code>， <code>HTML5</code> 会将 <code>data-</code> 开头的属性名添加到 <code>dataset</code> 的对象中，我们可以通过</p>
<ul>
<li><p><code>dataset[&quot;属性名&quot;]</code></p>
</li>
<li><p><code>dataset.属性名</code></p>
</li>
</ul>
<p>的方式访问，这时的属性名不需要加上 <code>data-</code> 前缀，如</p>
<ul>
<li><p><code>dataset[&quot;dog&quot;]</code></p>
</li>
<li><p><code>dataset.dog</code></p>
</li>
</ul>
<p>如果属性名之间使用 <code>-</code> 连接，如 <code>data-my-name</code>，则访问时需要使用驼峰命名法访问，即</p>
<ul>
<li><p><code>dataset[&quot;myName&quot;]</code></p>
</li>
<li><p><code>dataset.myName</code></p>
</li>
</ul>
</blockquote>
<h4 id="在新的页面打开标签"><a href="#在新的页面打开标签" class="headerlink" title="在新的页面打开标签"></a>在新的页面打开标签</h4><p>现在使用 <code>attr()</code> 方法来做几个例子，第一个要求页面内的链接都要在新的页面打开，做法就是将 <code>a</code> 标签的 <code>target</code> 属性设置为 <code>_blank</code> ，这种事情当然可以在写的时候就写好，但是有两个问题</p>
<ul>
<li><p>首先这个工作是重复性的工作，每写一个 <code>a</code> 都要重复同样的事情，既累又不够优雅</p>
</li>
<li><p>如果页面内的链接是用户加入的呢，比如百科，这时打开的链接就不一定是在新的页面打开了</p>
</li>
</ul>
<p>所以我们可以使用 <code>attr()</code> 批量设置 <code>a</code> 标签的 <code>target</code> 属性为 <code>_blank</code> ，但是并不是所有的 <code>a</code> 标签，因为有的 <code>a</code> 标签是在页面内跳转的，我们并不需要在新的页面内打开，所以应该设置 <code>href</code> 属性以 <code>http://</code> 开头的 <code>a</code> 标签在新的页面打开</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"a[href^='http://']"</span>).attr(<span class="string">"target"</span>, <span class="string">"_blank"</span>)</span><br></pre></td></tr></table></figure>

<h4 id="解决双重提交"><a href="#解决双重提交" class="headerlink" title="解决双重提交"></a>解决双重提交</h4><p>在提交表单时，有的时候由于不能够及时给予用户反馈，导致用户不确定是否提交成功，用户会多次点击提交按钮，这样会给服务器端带来麻烦，我们在捕获 <code>submit</code> 事件时，当用户第一次提交时，我们接着将 <code>disabled</code> 属性设置为 <code>true</code> (或者为 <code>disabled</code> )，如下</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 绑定表单的提交事件</span></span><br><span class="line">$(<span class="string">"form"</span>).submit(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// :submit 表示 type 为 submit 的元素</span></span><br><span class="line">    <span class="comment">// 提交之后将submit按钮设置为disabled</span></span><br><span class="line">    $(<span class="string">":submit"</span>, <span class="keyword">this</span>).attr(<span class="string">"disabled"</span>, <span class="string">"disabled"</span>) </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在上面中设置 <code>disabled</code> 属性时，<code>disabled</code> 属性的值不重要，重点是设置了 <code>disabled</code> 这个属性，所以即使将它设置为空字符串 <code>&quot;&quot;</code>，它也是生效的，如果想 <code>disabled</code> 属性设置为不生效，那么就将它的值设置为 <code>false</code> (注意不要设置为字符串 <code>&quot;false&quot;</code> )，下面的写法作用是一样的，都是使得 <code>disabled</code> 生效</p>
<ul>
<li><p><code>attr(&quot;disabled&quot;, &quot;disabled&quot;)</code></p>
</li>
<li><p><code>attr(&quot;disabled&quot;, &quot;&quot;)</code></p>
</li>
<li><p><code>attr(&quot;disabled&quot;, &quot;false&quot;)</code></p>
</li>
<li><p><code>attr(&quot;disabled&quot;, true)</code></p>
</li>
</ul>
<p>只有将 <code>disabled</code> 设置为布尔值 <code>false</code> 才会使得 <code>disabled</code> 失效</p>
<ul>
<li><strong><code>attr(&quot;disabled&quot;, false)</code></strong></li>
</ul>
</blockquote>
<h3 id="操作类属性"><a href="#操作类属性" class="headerlink" title="操作类属性"></a>操作类属性</h3><p>为什么类属性要单独拿出来呢? 假设有这么一个需求，为所有的 <code>div</code> 标签添加一个类 <code>box</code>，那下面这样的写法对不对</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).attr(<span class="string">"class"</span>, <span class="string">"box"</span>);</span><br></pre></td></tr></table></figure>

<p>上面的写法是错误的，因为上面的写法是为 <code>class</code> 属性赋值为 <code>box</code>，但是之前的类属性就会被覆盖掉，我们想做的仅仅是添加的操作，所以我们需要知道之前的类属性是什么，所以正确的写法如下</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 获得原来的类名列表 转化为数组</span></span><br><span class="line"><span class="keyword">const</span> classList = $(<span class="string">"div"</span>).attr(<span class="string">"class"</span>).split(<span class="string">" "</span>);</span><br><span class="line"><span class="comment">// 将要添加的类名添加到数组中</span></span><br><span class="line">classList.push(<span class="string">"box"</span>);</span><br><span class="line"><span class="comment">// 将数组中的元素以空格拼接为一个字符串</span></span><br><span class="line"><span class="keyword">const</span> newClassList = classList.join(<span class="string">" "</span>);</span><br><span class="line"><span class="comment">// 设置class属性</span></span><br><span class="line">$(<span class="string">"div"</span>).attr(<span class="string">"class"</span>, newClassList);</span><br></pre></td></tr></table></figure>

<p>经过千辛万苦终于添加了一个类，考虑到这样的操作很频繁，所以最好将上面的操作抽象为一个方法，而 <code>jQuery</code> 为我们做了这件事情：</p>
<ul>
<li><p><code>addClass(names)</code></p>
<ul>
<li><p><code>names</code> 可以是单个类名，也可以是一个以空格分隔的字符串表示的多个类名</p>
</li>
<li><p><code>names</code> 还可以是一个函数，函数的返回值作为单个类名或者多个类名，这个函数会传入两个参数，元素的下标(元素在 <code>jQuery</code> 集合中的下标)和当前类名的值</p>
</li>
</ul>
</li>
<li><p><code>removeClass(names)</code></p>
<ul>
<li>参数同 <code>addClass</code> ，作用是删除单个或多个类名</li>
</ul>
</li>
<li><p><code>toggleClass(names)</code></p>
<ul>
<li><p>该函数的作用是切换类名，什么意思呢? 比如如果该元素存在 <code>names</code> 指定的类，则删除掉指定的类，如果不存在指定的类，则添加指定的类</p>
</li>
<li><p>参数同上</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">addClass(<span class="string">"box"</span>); <span class="comment">// 为元素添加 box 类</span></span><br><span class="line">addClass(<span class="function"><span class="keyword">function</span>(<span class="params">index, value</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// index 是元素在 jQuery 中的下标</span></span><br><span class="line">    <span class="comment">// value 是元素当前类名的值</span></span><br><span class="line">    <span class="comment">// return "active big" </span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"box"</span>; <span class="comment">// 返回值将会被作为类名添加</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">removeClass(<span class="string">"box"</span>); <span class="comment">// 删除该元素 box 类</span></span><br><span class="line"></span><br><span class="line">toggleClass(<span class="string">"box"</span>); <span class="comment">// 如果存在 box 类，则删除 box 类，如果不存在 box 类，则添加 box 类</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>hasClass(name)</code><ul>
<li>判断是否包含类名为 <code>name</code> 的类，包含则返回 <code>true</code>，否则返回 <code>false</code></li>
</ul>
</li>
</ul>
<blockquote>
<p><code>HTML5</code> 其实也提供了原生的操作类的方法，每个元素都有一个 <code>classList</code> 对象，它的原型对象提供了操作类名的方法</p>
<ul>
<li><p><code>classList.add()</code>：为元素添加<strong>一个</strong>类</p>
</li>
<li><p><code>classList.remove()</code>：为元素删除指定的类</p>
</li>
<li><p><code>classList.toggle()</code>：切换指定的类，存在则移除，不存在则添加</p>
</li>
<li><p><code>classList.contains()</code>：判断是否存在指定的类，存在返回 <code>true</code>，反之返回 <code>false</code></p>
</li>
</ul>
<p>据我试验所知，上面的每次操作只能对一个类操作，意思就是不能同时添加多个类或删除。</p>
</blockquote>
<h2 id="操作样式"><a href="#操作样式" class="headerlink" title="操作样式"></a>操作样式</h2><p>使用 <code>css()</code> 方法来设置样式，使用的方法与 <code>attr()</code> 类似</p>
<ul>
<li><code>css(name, value)</code>：设置样式 <code>name</code> 为 <code>value</code></li>
<li><code>css(properties)</code>：传入一个对象，通过对象来设置样式</li>
<li><code>css(name)</code>：获得样式，如果是含有多个元素的 <code>jQuery</code> 集合调用此方法，那么返回的是第一个元素的计算样式值</li>
</ul>
<p>看一个例子，有下面的 <code>div</code> 标签</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>现为它设置高度和宽度</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).css(&#123;</span><br><span class="line">    width: <span class="string">"100px"</span>,</span><br><span class="line">    height: <span class="string">"100px"</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>css(name, value)：其中 <code>value</code> 可以是一个函数，该函数的返回值将作为 <code>value</code> 值，这个函数会接收两个参数，第一个参数是元素在 <code>jQuery</code> 集合中的位置，第二个参数是样式当前的值，同时函数的内部上下文 <code>this</code> 指向当前元素</p>
</blockquote>
<h3 id="获取元素宽度"><a href="#获取元素宽度" class="headerlink" title="获取元素宽度"></a>获取元素宽度</h3><p>下面我们来获取某元素的 <code>width</code> 值</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).css(<span class="string">"width"</span>); <span class="comment">// 100px</span></span><br></pre></td></tr></table></figure>

<p>得到的结果是一个一个字符串，而不是数字，很多时候我们是希望得到数字用来计算或者其他用途，所以如果想得到数字的话就需要对字符串进行解析，但是 <code>jQuery</code> 有考虑这一方面，我们可以很方便的使用 <code>width(), height()</code> 方法获得数字的结果，如</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).width(); <span class="comment">// 100</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>这里的 <code>width</code> 的大小是设置样式时的大小吗? 比如</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用 <code>width()</code> 方法得到的数字是100吗? 为什么在这里我会提出这么一个疑问，因为这里设置的 <code>width</code> 不一定是标签的内容宽度，也可能包括 <code>padding, border</code> (当 <code>box-sizing</code> 设置为 <code>border-box</code> 时)，所以这里的 <code>width</code> 得到的是 <code>content-width</code> 还是在 <code>style</code> 标签中设置的 <code>width</code> ，我们设置 <code>div</code> 的样式为</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个时候在 <code>style</code> 里面设置的 <code>width</code> 为 <code>100</code> ，但是实际的 <code>content-width</code> 应该是 <code>80</code> ，我们来看一下 <code>width()</code> 方法得到的结果是多少</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).width(); <span class="comment">// 80</span></span><br></pre></td></tr></table></figure>

<p>上面得到的结果是 <code>80</code> ，所以 <code>width()</code> 方法得到的宽度是 <code>content-width</code> ，即是实际内容的宽度， <code>height()</code> 方法也是同理。</p>
</blockquote>
<p>除了可以使用 <code>width()</code> 方法获得元素的宽度以外，还可以设置元素的宽度</p>
<ul>
<li><code>width(value)</code><ul>
<li><code>value</code> 的值可以是一个数字，单位默认为 <code>px</code></li>
<li>也可以是带单位的字符串(如果没有指定单位，则默认为 <code>px</code>)</li>
<li>还可以是一个函数，函数的返回值作为要设置的值，该函数的上下文(<code>this</code>)是该元素</li>
</ul>
</li>
</ul>
<blockquote>
<p>这里又有一个疑问，如果我设定宽度，那么这里的宽度我设定的是内容宽度 <code>conetnt-width</code> 还是元素的 <code>width</code> 样式，这里我们还是以上面的 <code>div</code> 为例</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里我们设定 <code>width</code> 为 <code>200</code> ，然后通过 <code>width()</code> 方法获得宽度，如果得到的值是 <code>200</code> ，那说明设定的是 <code>content-width</code> ，如果得到的是 <code>180</code> ，说明设定的是 <code>width</code> 样式的值</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).width(<span class="number">200</span>);</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">"div"</span>).width()); <span class="comment">// 200</span></span><br></pre></td></tr></table></figure>

<p>得到的结果是 <code>200</code> ，说明设定的是 <code>content-width</code> 。</p>
</blockquote>
<blockquote>
<p>在这里我突然又有一个想法，那就是 <code>css(&quot;width&quot;)</code> 与 <code>width()</code> 得到的结果是相同的吗，还是以上面的 <code>div</code> 为例</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="string">"div"</span>).width()); <span class="comment">// 80</span></span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">"div"</span>).css(<span class="string">"width"</span>)); <span class="comment">// 100px</span></span><br></pre></td></tr></table></figure>

<p>惊讶的发现二者得到的结果是在数值上是不一样的，可见使用 <code>css(&quot;width&quot;)</code> 获得的是 <code>width</code> 样式的值，那么使用 <code>css(&quot;width&quot;, 200)</code> 设定的是 <code>width</code> 样式的值吗，测试一下</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).css(<span class="string">"width"</span>, <span class="number">200</span>);</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">"div"</span>).width()); <span class="comment">// 180</span></span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">"div"</span>).css(<span class="string">"width"</span>)); <span class="comment">// 200px</span></span><br></pre></td></tr></table></figure>

<p>果然 <code>css()</code> 方法设置的值也是 <code>width</code> 样式的值，所以这里总结一下：</p>
<ul>
<li><code>width()</code>(<code>height()</code>)方法设定或者获取的值是指<strong>内容的宽度(高度)</strong></li>
<li><code>css()</code> 设定或获取的宽度(高度)是指样式里面的 <code>width</code> 值的大小</li>
<li>在 <code>box-sizing</code> 为 <code>content-box</code> 下二者得到的数值结果是一样的，但是在 <code>box-sizing</code> 为 <code>border-box</code> 的情况下，由于 <code>padding</code> 和 <code>border</code> 的影响，二者的结果是不同的(在 <code>padding</code> 和 <code>border</code> 为 <code>0</code> 的情况下是相同的)。</li>
</ul>
</blockquote>
<blockquote>
<p>经过一次实践，我发现上面的描述也不太准确，<code>css(&quot;width&quot;)</code>与<code>width()</code>方法获得的值符合上面情况的条件是，它的大小没有超过它父元素的大小，如果超过了，那么<code>css(&quot;width&quot;)</code>就是父元素的<code>width</code>样式的大小，而<code>width()</code>方法的大小我觉得很复杂，还不知道怎么计算，自己动手试试吧。</p>
</blockquote>
<p>除了 <code>width()</code> 和 <code>height()</code> 方法，<code>jQuery</code> 还提供了特别的方法来获得特殊的宽度和高度</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>innerwidth()</code></td>
<td>内容宽度+内边距宽度</td>
</tr>
<tr>
<td><code>innerHeight()</code></td>
<td>同上</td>
</tr>
<tr>
<td><code>outerWidth(margin)</code></td>
<td><ul><li>margin为false时，内容宽度 + 内边距宽度 + 边框宽度</li><li>margin为true时，再加上外边距的宽度</li></ul></td>
</tr>
<tr>
<td><code>outerHeight(margin)</code></td>
<td>同上</td>
</tr>
</tbody></table>
<h3 id="获取元素位置"><a href="#获取元素位置" class="headerlink" title="获取元素位置"></a>获取元素位置</h3><h4 id="offset"><a href="#offset" class="headerlink" title="offset"></a>offset</h4><p><code>offset()</code>，获取元素离文档原点的距离，返回一个对象，里面有 <code>left</code> 和 <code>top</code> 两个属性，表示离文档原点经过测试，应该是元素的 <code>border</code> 的左上角离文档原点的距离。</p>
<h4 id="position"><a href="#position" class="headerlink" title="position"></a>position</h4><p>另一个获取位置有关信息的是 <code>position()</code> ，它是获得与它元素左上角之间的距离，这个父元素是它所有父元素中使用了定位 <code>position</code> 且离他最近的父元素，虽然有点拗口，不过使用过绝对定位的话，就会很容易明白，因为它与绝对定位的规则是一样的。</p>
<blockquote>
<p>经过我的实验，发现这个距离不是边框与边框的距离，而是子元素 margin 离父元素 padding 之间的距离。</p>
</blockquote>
<h2 id="操作-DOM-元素"><a href="#操作-DOM-元素" class="headerlink" title="操作 DOM 元素"></a>操作 DOM 元素</h2><h3 id="设置-html-内容以及文本内容"><a href="#设置-html-内容以及文本内容" class="headerlink" title="设置 html 内容以及文本内容"></a>设置 html 内容以及文本内容</h3><ul>
<li><code>html()</code>：获取jQuery集合中第一个元素的 <code>html</code> 内容</li>
<li><code>html(content)</code>：将传入的 <code>HTML</code> 片段，设置 <code>jQuery</code> 集合中元素的 <code>HTML</code> 内容</li>
<li><code>text()</code>：获得 <code>jQuery</code> 集合中所有元素的文本内容拼接的字符串</li>
<li><code>text(content)</code>：将 <code>jQuery</code> 集合元素的文本内容设置为传入的值</li>
</ul>
<blockquote>
<p><code>content</code> 可以为字符串，也可以是一个函数，函数的返回值作为要设置的内容，函数接受两个参数，第一个参数是元素在 <code>jQuery</code> 集合中的位置，第二个参数是当前<code>html</code>(<code>text</code>)的值。</p>
</blockquote>
<h3 id="追加元素"><a href="#追加元素" class="headerlink" title="追加元素"></a>追加元素</h3><ul>
<li><code>append(content)</code>：将 <code>content</code> 追加元素内容的最后面(子元素级别)</li>
<li><code>prepend(content)</code>：将 <code>content</code> 追加元素内容的最前面</li>
<li><code>before(content)</code>：将 <code>content</code> 追加到元素的前面(兄弟元素级别)</li>
<li><code>after(content)</code>：将 <code>content</code> 追加到元素的后面</li>
</ul>
<blockquote>
<p><code>content</code> 的值可以为字符串，元素，jQuery集合，函数，函数的返回值将被添加，函数将接受两个参数，元素的下标和原先的内容。</p>
<p>如果选择现有的DOM元素添加到某元素的最后，那么这是一个移动操作，而不是一个复制操作，比如有这么一个结构</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>执行下面的语句</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).append($(<span class="string">"p"</span>));</span><br></pre></td></tr></table></figure>

<p>得到的结果是</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>而不是</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>如果<code>jQuery</code>集合中有多个元素，那么被添加的元素会复制多份，添加到这些元素内容的后面(如果添加的是<code>DOM</code>中已有的元素，也是移动操作)，其它的操作(<code>prepend</code>…)也是同理。</p>
</blockquote>
<ul>
<li><code>appendTo(target)</code></li>
<li><code>prependTo(target)</code></li>
<li><code>insertBefore(target)</code></li>
<li><code>insertAfter(target)</code></li>
</ul>
<p>这些方法的作用同上面介绍的是个方法是一一对应的，不过是主动变为了被动，如</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).append(content); <span class="comment">// 向div中添加content</span></span><br><span class="line">$(<span class="string">"div"</span>).appendTo(target); <span class="comment">// 将div添加到target中</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>target</code> 只能为元素或者字符串</p>
</blockquote>
<h3 id="删除元素"><a href="#删除元素" class="headerlink" title="删除元素"></a>删除元素</h3><ul>
<li><code>remove(selector)</code>：删除 <code>jQuery</code> 集合中的元素，<code>selector</code> 是一个可选的选择器，用来进一步筛选要删除的元素，被删除的元素会放入一个新的 <code>jQuery</code> 集合中返回，所以被删除的元素可以继续插入到 <code>DOM</code> 中，但是这个时候之前绑定的事件和数据全部被删除了。</li>
<li><code>empty()</code>：删除 <code>DOM</code> 元素中的内容，与 <code>remove</code> 不同， <code>remove</code> 是删除这个 <code>DOM</code> 元素，包括这个元素包括的内容，但是 <code>empty</code> 只是清除该 <code>DOM</code> 元素的内容。</li>
<li><code>detach(selector)</code>：该方法的作用与 <code>remove</code> 是一样的，但是保留绑定的事件和绑定的数据。</li>
</ul>
<h3 id="复制元素"><a href="#复制元素" class="headerlink" title="复制元素"></a>复制元素</h3><ul>
<li><code>clone(cloneHandler)</code>：复制 <code>jQuery</code> 集合中的元素，生成一个新的 <code>jQuery</code> 集合返回。 <code>cloneHandler</code> 如果为 <code>true</code>，那么就会复制绑定的事件，如果为 <code>false</code> 就不会复制绑定的事件</li>
</ul>
<h3 id="替换元素"><a href="#替换元素" class="headerlink" title="替换元素"></a>替换元素</h3><ul>
<li><code>replaceWith(content)</code>：使用 <code>content</code> 去替换 <code>jQuery</code> 集合中的元素，返回被替换的元素， <code>content</code> 可以是字符串，元素和函数，函数的返回值作为替换的内容，函数的上下文被设置为当前的元素，不传递任何的参数；如果 <code>content</code> 是已经在<code>DOM</code>中的元素，那么就相当于是移动到 <code>jQuery</code> 集合中元素的位置，如果 <code>jQuery</code> 集合中有多个元素，会复制多个 <code>content</code> 副本</li>
<li><code>replaceAll(selector)</code>：使用 <code>jQuery</code> 集合中的所有元素去替换匹配 <code>selector</code> 的元素，如果<code>jQuery</code>集合中的元素是已经在 <code>DOM</code> 中的元素，那么就相当于将符合 <code>selector</code> 的元素删除，然后将 <code>jQuery</code> 集合中的元素移动到这里，如果符合 <code>selector</code> 的元素有多个，那么会复制多个 <code>jQuery</code> 集合的副本移动</li>
</ul>
<h3 id="处理表单元素"><a href="#处理表单元素" class="headerlink" title="处理表单元素"></a>处理表单元素</h3><ul>
<li><p><code>val()</code>：获得集合中第一个元素的 <code>value</code> 值，如果该元素是一个可以多选的元素，那么返回所有选择项组成数组(比如<code>&lt;select mupltiple=&quot;mupltiple&quot;&gt;&lt;/select&gt;</code>)</p>
<blockquote>
<p>如果第一个元素不是表单元素，则会返回空字符串</p>
</blockquote>
</li>
<li><p><code>val(value)</code>：设置集合中表单元素的 <code>value</code> 值</p>
<blockquote>
<p>value值也可以是函数，函数的返回值作为被设置的内容，函数接收两个参数，元素的下标和当前的value值</p>
</blockquote>
</li>
<li><p><code>val(values)</code>：使得多选框，单选框，或者<code>select</code>元素中的可选项中，如果这些选项的值在<code>values</code>中，则它变为选中状态</p>
</li>
</ul>
<h2 id="jQuery-事件"><a href="#jQuery-事件" class="headerlink" title="jQuery 事件"></a>jQuery 事件</h2><h3 id="绑定事件"><a href="#绑定事件" class="headerlink" title="绑定事件"></a>绑定事件</h3><p><code>jQuery</code> 使用 <code>on</code> 方法绑定事件，如下</p>
<ul>
<li><code>on(eventType, childSelector, data, listener)</code><ul>
<li><code>eventType</code>，必需，要绑定的事件的类型，如 <code>click</code></li>
<li><code>childSelector</code>，可选，规定把事件绑定到子元素上</li>
<li><code>data</code>，可选，规定传递到函数的额外数据</li>
<li><code>listener</code>，可选，规定事件发生时运行的函数</li>
</ul>
</li>
</ul>
<p><code>on</code> 方法除了给已经存在于<code>DOM</code>中的元素绑定事件以外，还可以给现在还不存在于 <code>DOM</code> 中但是未来会添加到 <code>DOM</code> 中的元素绑定事件，如</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>此时 <code>DOM</code> 中只有 <code>div</code> 标签，这时我想给未来会被添加到 <code>DOM</code> 中的 <code>p</code> 标签绑定点击事件</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"p"</span>).appendTo($(<span class="string">"div"</span>)); <span class="comment">// 将p标签添加到div中</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 为div标签中的p标签绑定事件，即使p标签一开始并不在DOM中，也可以绑定成功</span></span><br><span class="line">$(<span class="string">"div"</span>).on(<span class="string">"click"</span>, <span class="string">"p"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>使用 <code>one()</code> 绑定事件，该事件在执行完一次后会被删除</p>
<ul>
<li><code>one(eventType, data, listener)</code><ul>
<li>各参数的含义与 <code>on</code> 是一致的</li>
</ul>
</li>
</ul>
<p>除了可以使用上面的方法绑定事件以外，<code>jQuery</code> 还提供了十分方便的绑定特定事件方法，如</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 为div标签绑定点击事件</span></span><br><span class="line">$(<span class="string">"div"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>这样直接以事件的名字绑定事件，既方便，语义又明确，支持这种方式的 <code>eventTypeName</code> 如下</p>
<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028160953.jpg" alt="2020-10-28_160902" style="zoom:50%;" />


<h3 id="解绑事件"><a href="#解绑事件" class="headerlink" title="解绑事件"></a>解绑事件</h3><ul>
<li><code>off(event, selector, listener)</code>：移除通过 <code>on</code> 方法绑定的事件</li>
</ul>
<h3 id="触发事件"><a href="#触发事件" class="headerlink" title="触发事件"></a>触发事件</h3><ul>
<li><code>trigger(event, data)</code><ul>
<li>这个方法是用来触发事件的，比如 <code>$(&quot;#foo&quot;).trigger(&quot;click&quot;)</code> 会触发 <code>id</code> 为 <code>foo</code> 的点击事件</li>
<li><code>data</code> 是可选参数，是传递给事件处理的额外参数，它是一个数组或者对象</li>
</ul>
</li>
</ul>
<blockquote>
<p>来解释一下 <code>data</code>，加入在绑定事件时需要额外的参数，如</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 需要额外的参数a, b</span></span><br><span class="line">$(<span class="string">"#foo"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event, a, b</span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>这时我们在触发事件时就需要传入额外的参数</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"#foo"</span>).trigger(<span class="string">"click"</span>, [<span class="string">"foo"</span>, <span class="string">"bar"</span>])</span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><p><code>triggerHandler(event, data)</code></p>
<ul>
<li><code>triggerHandler</code> 的作用与 <code>trigger</code> 类似，不过有几点不同</li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li><p><code>.triggerHandler()</code> 方法并不会触发事件的默认行为(例如，表单提交)。</p>
</li>
<li><p><code>.trigger()</code> 会影响所有与 <code>jQuery</code> 对象相匹配的元素，而 <code>.triggerHandler()</code> 仅影响第一个匹配到的元素。</p>
</li>
<li><p>使用 <code>.triggerHandler()</code> 创建的事件，并不会在 <code>DOM</code> 树中向上冒泡。</p>
</li>
<li><p><code>.triggerHandler()</code> 返回最后一个处理的事件的返回值，而不是 <code>jQuery</code> 集合，即不能进行链式调用</p>
</li>
</ul>
</blockquote>
<p>除了上述的方法外，<code>jQuery</code> 还提供了可以直接通过名字直接触发事件，如</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"#foo"</span>).click() <span class="comment">// 触发点击事件</span></span><br></pre></td></tr></table></figure>

<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028160953.jpg" alt="2020-10-28_160902" style="zoom:50%;" />


<h3 id="其他事件"><a href="#其他事件" class="headerlink" title="其他事件"></a>其他事件</h3><ul>
<li><p><code>toggle(listener1, listener2, ...)</code></p>
<ul>
<li>当点击元素时会依次触发事件</li>
<li>比如第一次点击触发 <code>listener1</code> ，第二次点击触发 <code>listener2</code> ，以此类推，如果 <code>toggle</code> 中的事件触发完了，那么会循环触发</li>
</ul>
</li>
<li><p><code>hover(enterHandle, leaveHadnler)</code></p>
<ul>
<li>当鼠标进入元素时触发 <code>enterHandle</code> ，离开元素时触发 <code>leaveHadnler</code></li>
</ul>
</li>
<li><p><code>hover(handler)</code></p>
<ul>
<li>当鼠标进入元素以及离开元素时均会触发 <code>handler</code></li>
</ul>
</li>
</ul>
<h3 id="Event实例"><a href="#Event实例" class="headerlink" title="Event实例"></a>Event实例</h3><p>我们向元素绑定事件时，会向监听器(绑定的处理函数)传入一个 <code>event</code> 对象，那么 <code>event</code> 对象中有什么信息可以为我们所用呢?</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>altKey</td>
<td>当事件触发时，如果 Alt 键被按下，设置为 true，否则为 false</td>
</tr>
<tr>
<td>ctrlKey</td>
<td>当事件触发时，如果 Ctrl 键被按下，设置为 true，否则为 false</td>
</tr>
<tr>
<td>shiftKey</td>
<td>当事件触发时，如果 Shift 键已被按下，则设置为 true，否则为 false</td>
</tr>
<tr>
<td>target</td>
<td>触发事件的元素</td>
</tr>
<tr>
<td>currentTarget</td>
<td>冒泡阶段的当前元素，它和事件处理器中 this 对象是同一个对象</td>
</tr>
<tr>
<td>relatedTarget</td>
<td>对于鼠标事件，找出触发事件时光标离开或者进入的元素</td>
</tr>
<tr>
<td>pageX/pageY</td>
<td>对于鼠标事件，指定触发事件时光标相对于页面原点的水平/垂直坐标</td>
</tr>
<tr>
<td>screenX/screenY</td>
<td>对于鼠标事件，指定触发事件时光标相对于屏幕原点的水平/垂直坐标</td>
</tr>
<tr>
<td>timestamp</td>
<td>jQuery.Event实例创建时的时间戳，以毫秒为单位</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>方法</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>preventDefault()</td>
<td>阻止默认动作(表单提交，链接跳转，复选框状态改变)</td>
</tr>
<tr>
<td>stopPropagation()</td>
<td>停止冒泡</td>
</tr>
<tr>
<td>stopImmediatePropagation()</td>
<td>停止冒泡，包括当前元素上的事件</td>
</tr>
<tr>
<td>isDefaultPrevented()</td>
<td>如果已经在此实例上调用了 preventDefault() 方法，则返回 true</td>
</tr>
<tr>
<td>isPropagationStopped()</td>
<td>如果已经在此实例上调用了 stopPropagation() 方法，则返回 true</td>
</tr>
<tr>
<td>isImmediatePropagationStopped()</td>
<td>如果已经在此实例上调用了 stopImmediatePropagation() 方法，则返回 true</td>
</tr>
</tbody></table>
<h2 id="jQuery-显示与隐藏"><a href="#jQuery-显示与隐藏" class="headerlink" title="jQuery 显示与隐藏"></a>jQuery 显示与隐藏</h2><h3 id="显示和隐藏元素"><a href="#显示和隐藏元素" class="headerlink" title="显示和隐藏元素"></a>显示和隐藏元素</h3><ul>
<li><code>hide()</code>：隐藏元素</li>
<li><code>show()</code>：显示元素</li>
</ul>
<blockquote>
<p>隐藏元素是将元素的 <code>display</code> 属性设置为 <code>none</code>，而显示属性会将 <code>display</code> 属性设置为与隐藏前的 <code>display</code> 相同，比如在隐藏前某元素的 <code>display</code> 为 <code>block</code>， <code>hide</code> 会将 <code>dispaly</code> 设置为 <code>none</code>，<code>show</code> 会将 <code>display</code> 设置为与之前相同为 <code>block</code>。</p>
</blockquote>
<ul>
<li><code>toggle()</code>：切换，如果为显示，则隐藏，如果隐藏，则显示</li>
</ul>
<h3 id="显示隐藏动画"><a href="#显示隐藏动画" class="headerlink" title="显示隐藏动画"></a>显示隐藏动画</h3><p>上面的方法其实还可以接受两个参数</p>
<ul>
<li><code>hide(speed, callback)</code><ul>
<li><code>speed</code> 用来规定隐藏的速度，默认是没有动画效果的，元素瞬间消失，可以传入数字，单位是毫秒，也可以传入以下预定义的字符串，<code>slow, normal, fast</code></li>
<li><code>callback</code> 是动画执行完毕后会执行的回调函数</li>
</ul>
</li>
</ul>
<blockquote>
<p>同理，<code>show()</code> 和<code>toggle()</code> 也由这两个参数，与<code>hide()</code> 的用法一模一样，所以不再赘述。</p>
</blockquote>
<p>假设有一个 <code>div</code> 标签，当我们点击它时，它会先隐藏，会显示</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).hide(<span class="string">"slow"</span>).show(<span class="string">"fast"</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028171123.gif" alt="2" style="zoom:50%;" />


<p>除了上面方法显示和隐藏元素以外，<code>jQuery</code> 还提供了很多的方法，如</p>
<blockquote>
<p>淡入淡出(只改变元素的不透明度)：</p>
<ul>
<li><code>fadeIn(speed, callback)</code></li>
<li><code>fadeOut(speed, callback)</code></li>
<li><code>fadeTo(speed, opacity, callback)</code>：逐渐改变元素的透明度到设定的opacity</li>
</ul>
<p>我们在使用 <code>hide</code> 或者 <code>show</code> 时，除了改变透明度以外，还会改变高度和宽度，而 <code>fade...</code> 方法只会改变不透明度，当 <code>opacity</code> 为 <code>0</code> 时，将 <code>display</code> 设置为 <code>none</code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> $(<span class="keyword">this</span>).fadeOut(<span class="string">"slow"</span>).fadeIn(<span class="string">"fast"</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028171305.gif" alt="3" style="zoom:50%;" />


<p>滑入滑出：</p>
<ul>
<li><code>slideDown(speed, callback)</code>：改变元素的垂直尺寸，使元素逐渐显示出来</li>
<li><code>slideUp(speed, callback)</code>：改变元素的垂直尺寸，使元素逐渐消失</li>
<li><code>slideToggle(speed, callback)</code>：隐藏则显示，显示则隐藏</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> $(<span class="string">"div"</span>).slideUp(<span class="string">"slow"</span>).slideDown(<span class="string">"fast"</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<center>
 <img src="https://gitee.com/lastknightcoder/blogimage/raw/master/img/202004011106.gif"/>
</center>
</blockquote>
<h2 id="jQuery-动画"><a href="#jQuery-动画" class="headerlink" title="jQuery 动画"></a>jQuery 动画</h2><ul>
<li><code>animate(properties, duration, easing, callback)</code><ul>
<li><code>properties</code>：元素最后达到的 <code>CSS</code> 状态</li>
<li><code>duration</code>：持续时间</li>
<li><code>easing</code>：动画曲线，<code>jQuery</code> 提供两个函数曲线 <code>linear</code> 和 <code>swing</code></li>
<li><code>callback</code>：动画执行完毕后的会执行的回调函数</li>
</ul>
</li>
</ul>
<p>我们通过给定希望元素最后能够达到的 <code>CSS</code> 状态，比如位置的变化，宽高的变化，而 <code>jQuery</code> 会自动根据持续的时间以及初始的状态计算出中间的过程，也就是帧，如</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">"div"</span>).animate(&#123;</span><br><span class="line">        width: <span class="string">"200px"</span></span><br><span class="line">    &#125;, <span class="number">500</span>, <span class="string">"swing"</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<center>
    <img src="https://gitee.com/lastknightcoder/blogimage/raw/master/img/202004011118.gif"/>
</center>

<h3 id="自定义缩放动画"><a href="#自定义缩放动画" class="headerlink" title="自定义缩放动画"></a>自定义缩放动画</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).hover(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 鼠标放上去时，放大两倍</span></span><br><span class="line">    $(<span class="string">"div"</span>).animate(&#123;</span><br><span class="line">        width: $(<span class="keyword">this</span>).width() * <span class="number">2</span>,</span><br><span class="line">        height: $(<span class="keyword">this</span>).height() * <span class="number">2</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </span><br><span class="line">    <span class="comment">// 离开时恢复原样</span></span><br><span class="line">    $(<span class="string">"div"</span>).animate(&#123;</span><br><span class="line">        width: $(<span class="keyword">this</span>).width() / <span class="number">2</span>,</span><br><span class="line">        height: $(<span class="keyword">this</span>).height() / <span class="number">2</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<center>
    <img src="https://gitee.com/lastknightcoder/blogimage/raw/master/img/202004011122.gif"/>
</center>

<h3 id="自定义掉落动画"><a href="#自定义掉落动画" class="headerlink" title="自定义掉落动画"></a>自定义掉落动画</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="keyword">this</span>).css(&#123;</span><br><span class="line">        position: <span class="string">"relative"</span></span><br><span class="line">    &#125;).animate(&#123;</span><br><span class="line">        opacity: <span class="number">0</span>,</span><br><span class="line">        <span class="comment">// 计算要下降的高度</span></span><br><span class="line">        top: $(<span class="built_in">window</span>).height() - $(<span class="keyword">this</span>).height() - $(<span class="keyword">this</span>).position().top</span><br><span class="line">    &#125;, <span class="string">"slow"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 因为 opacity 为 0 只是不可见，但是仍然占据位置，所以最后要hide隐藏一下</span></span><br><span class="line">        <span class="comment">// 可以将 opacity 最后的状态设置为 hide，那么这个回调函数可以省略</span></span><br><span class="line">        $(<span class="keyword">this</span>).hide()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<center>
    <img src="https://gitee.com/lastknightcoder/blogimage/raw/master/img/202004011129.gif"/>
</center>

<blockquote>
<p>将 <code>$.fx.off</code> 设置为 <code>true</code> 会禁用动画</p>
</blockquote>
<h2 id="jQuery扩展及实用函数"><a href="#jQuery扩展及实用函数" class="headerlink" title="jQuery扩展及实用函数"></a>jQuery扩展及实用函数</h2><h3 id="jQuery与其他库并存"><a href="#jQuery与其他库并存" class="headerlink" title="jQuery与其他库并存"></a>jQuery与其他库并存</h3><ul>
<li><code>$.noConflict()</code>：将 <code>$</code> 控制权给其他库，在执行该行代码后不能使用 <code>$</code>，只能使用 <code>jQuery</code></li>
</ul>
<h3 id="jQuery实用函数"><a href="#jQuery实用函数" class="headerlink" title="jQuery实用函数"></a>jQuery实用函数</h3><ul>
<li><code>$.trim(value)</code>：去除字符串前后的空白字符(不仅仅是空格，还有回车等等)</li>
<li><code>$.each(container, callback)</code>：会为 <code>container</code> (数组|对象)中的每个元素调用 <code>callback</code>，<code>callback</code> 的参数就是 <code>container</code> 中的每个元素</li>
<li><code>$.grep(array, callback, invert)</code>：为数组中的每个元素调用 <code>callback</code>，根据 <code>callback</code> 的返回值决定是否将元素添加到新的数组，如果 <code>invert</code> 为 <code>true</code>，那么 <code>callback</code> 返回 <code>false</code> 则将元素添加到新数组，反之若 <code>invert</code> 为 <code>false</code>，则 <code>callback</code> 返回 <code>true</code> 则将元素添加到新的数组，最后将新数组返回</li>
<li><code>$.map(array, callback)</code>：这个方法不想多解释</li>
<li><code>$.inArray(value, array)</code>：方法 <code>value</code> 在 <code>array</code> 中第一次出现的下标</li>
<li><code>$.makeArray(object)</code>：将一个伪数组转换为一个真正的数组</li>
<li><code>$.unique(array)</code>：返回 <code>array</code> 中不重复的元素组成的数组</li>
<li><code>$.merge(array1, array2)</code>：将第二个数组合并到第一个数组中，并返回第一个数组</li>
</ul>
<blockquote>
<p>上面的方法大多数 <code>JavaScript</code> 已经有原生的实现了</p>
</blockquote>
<h3 id="扩展jQuery"><a href="#扩展jQuery" class="headerlink" title="扩展jQuery"></a>扩展jQuery</h3><p><code>$.fn.xxx</code>：该方法会被添加到 <code>jQuery</code> 对象的原型上，通过这种方法可以扩展 <code>jQuery</code></p>
<h2 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h2><h3 id="启动一个Node来进行服务端测试"><a href="#启动一个Node来进行服务端测试" class="headerlink" title="启动一个Node来进行服务端测试"></a>启动一个Node来进行服务端测试</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http.createServer();</span><br><span class="line"></span><br><span class="line">server.on(<span class="string">'request'</span>, (req, res) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 处理跨域 </span></span><br><span class="line">    <span class="comment">// 允许http://127.0.0.1:5500 跨域请求</span></span><br><span class="line">    res.setHeader(<span class="string">'Access-Control-Allow-Origin'</span>, <span class="string">'http://127.0.0.1:5500'</span>);</span><br><span class="line">    res.end(<span class="string">"Hello World"</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.listen(<span class="number">4000</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"服务启动在4000端口"</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="回顾Ajax"><a href="#回顾Ajax" class="headerlink" title="回顾Ajax"></a>回顾Ajax</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">    &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script src="https:/</span><span class="regexp">/cdn.bootcss.com/</span>jquery/<span class="number">3.4</span><span class="number">.1</span>/jquery.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">    &lt;button&gt;发送请求&lt;/button&gt;</span></span><br><span class="line"><span class="string">    &lt;ul&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &lt;/ul&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &lt;script&gt;</span></span><br><span class="line"><span class="string">        $("</span>button<span class="string">").click(function () &#123;</span></span><br><span class="line"><span class="string">            let xhr = new XMLHttpRequest();</span></span><br><span class="line"><span class="string">            // 设置请求方法和请求路径</span></span><br><span class="line"><span class="string">            xhr.open("</span>GET<span class="string">", "</span>http:<span class="comment">//localhost:4000");</span></span><br><span class="line">            </span><br><span class="line">        	<span class="comment">// 监听onreadystatechange，当readyState改变时会触发此函数</span></span><br><span class="line">            xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="comment">// readyState为4表示处理请求完成</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>.readyState == <span class="number">4</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">this</span>.status &gt;= <span class="number">200</span> &amp;&amp; <span class="keyword">this</span>.status &lt; <span class="number">300</span>) &#123;</span><br><span class="line">                        <span class="comment">// 成功</span></span><br><span class="line">                        $(<span class="string">"ul"</span>).append(<span class="string">`&lt;li&gt;<span class="subst">$&#123;<span class="keyword">this</span>.responseText&#125;</span>&lt;/li&gt;`</span>)</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="comment">// 失败</span></span><br><span class="line">                        alert(<span class="string">"失败"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 发送的请求体数据 get方法不传参数，或者传入null</span></span><br><span class="line">            xhr.send();</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure>

<p>上面的代码是当点击<code>button</code>时发送一个<code>ajax</code>请求，并且获得的内容添加到<code>ul</code>中，效果如下</p>
<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/20201028163216.gif" alt="1" style="zoom:50%;" />

<p><code>XMLHttpRequest</code> 对象拥有的属性和方法为</p>
<table>
<thead>
<tr>
<th>属性和方法</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>abort()</td>
<td>取消当前请求</td>
</tr>
<tr>
<td>getAllResponseHeaders()</td>
<td>获得所以的响应头及相应的值组成的字符串</td>
</tr>
<tr>
<td>getResponseHeader()</td>
<td>获得指定名称的响应头和值</td>
</tr>
<tr>
<td>open(method, url, async, username, password)</td>
<td>设置请求方法和 URL，可以设置同步请求和异步请求，也可以提高基于容器认证需要的用户名和密码</td>
</tr>
<tr>
<td>send(content)</td>
<td>发送带有指定内容的请求</td>
</tr>
<tr>
<td>setRequestHeader(name, value)</td>
<td>设置请求头</td>
</tr>
<tr>
<td>onreadystatechange</td>
<td>当状态改变时，触发此方法接收的回调函数</td>
</tr>
<tr>
<td>readyState</td>
<td>目前的请求状态：<br /><ul><li>0：已创建 XHR 对象，但是未调用 open 方法</li><li>1：已调用 open 方法，但是请求还未发出</li><li>2：已调用 send 方法</li><li>3：服务端正在处理，responseText 中已有部分数据</li><li>4：响应已经接收完成</li></ul></td>
</tr>
<tr>
<td>reponseText</td>
<td>响应体中的数据</td>
</tr>
<tr>
<td>responseXML</td>
<td>如果返回的内容指定为 XML，会复制一份 reponseText 的内容到这里</td>
</tr>
<tr>
<td>status</td>
<td>服务端返回的状态码</td>
</tr>
<tr>
<td>statusText</td>
<td>返回的文本状态信息，如 success ok</td>
</tr>
</tbody></table>
<h3 id="jQuery-发起-Ajax-请求"><a href="#jQuery-发起-Ajax-请求" class="headerlink" title="jQuery 发起 Ajax 请求"></a>jQuery 发起 Ajax 请求</h3><ul>
<li><p><code>get(url, parameters, callback, type)</code></p>
<ul>
<li><code>url</code>：请求的路径</li>
<li><code>parameters</code>：请求参数，会被拼接到 <code>url</code> 后</li>
<li><code>callback</code>：请求成功后调用的函数</li>
<li><code>type</code>：以何种方式处理响应数据，如 <code>html</code>，<code>json</code></li>
</ul>
</li>
<li><p><code>getJSON(url, parameters, callback)</code>：相当于是 <code>get(url, parameters, callback, type)</code> 中 <code>type</code> 为 <code>json</code> 的快捷写法</p>
</li>
<li><p><code>post(url, parameters, callback, type)</code>：同 <code>get</code>，不过请求的方法是 <code>POST</code>，而且请求数据是放在请求体中的</p>
</li>
<li><p><code>ajax(options)</code>：</p>
<ul>
<li><p>通过传入的选项 options 可以控制发送 <code>ajax</code> 请求的各种细节</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>url</td>
<td>请求的地址</td>
</tr>
<tr>
<td>type</td>
<td>请求的方法，如 GET POST，默认为 GET</td>
</tr>
<tr>
<td>data</td>
<td>请求参数，如果是 GET，则把参数放入请求地址中，如果是 POST，则把数据作为请求主题</td>
</tr>
<tr>
<td>processData</td>
<td>将上面的 data 进行处理为 URL 编码格式，如果指定为 false，则不进行此操作</td>
</tr>
<tr>
<td>contentType</td>
<td>指定请求内容的类型</td>
</tr>
<tr>
<td>cache</td>
<td>是否启动浏览器缓存，默认为 true</td>
</tr>
<tr>
<td>timeout</td>
<td>超时时间(单位毫秒)，超过改时间没有得到应答，则调用处理错误的回调函数</td>
</tr>
<tr>
<td>async</td>
<td>如果指定 false，则将请求作为同步请求来提交，默认为异步</td>
</tr>
<tr>
<td>beforeSend</td>
<td>在发起请求之前调用的函数</td>
</tr>
<tr>
<td>success</td>
<td>返回成功状态码时调用的函数，第一个参数为响应主体，第二个参数为消息字符串，第三个参数为 XHR 实例的引用</td>
</tr>
<tr>
<td>error</td>
<td>返回错误状态码时调用的函数，第一个参数为 XHR 实例，第二个参数为消息字符串，第三个参数为异常对象</td>
</tr>
<tr>
<td>complete</td>
<td>请求结束时调用的方法，无论成功还是失败，接收两个参数，第一个参数为 XHR 实例，第二个参数为消息字符串</td>
</tr>
<tr>
<td>xhr</td>
<td>用来提供 XHR 实例自定义实现的回调函数</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
</ul>
<p><code>jQuery</code> 的 <code>ajax</code> 方法为我们提供了这么多可选项，如果没有设置一些选项的话，就会使用默认值，使用 <code>ajaxSetup</code> 方法来设置默认值</p>
<ul>
<li><code>ajaxSetup(options)</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$.ajaxSetup(&#123;</span><br><span class="line">    type: <span class="string">'POST'</span>,</span><br><span class="line">    timeout: <span class="number">5000</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>那么后面的每个 <code>ajax</code> 调用都会使用这些默认值(<code>$.get()</code> 的 <code>HTTP</code> 方法不会被改为 <code>POST</code>)。</p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2020-04-07T15:00:00.000Z" itemprop="dateUpdated">2020-04-07 23:00:00</time>
</span><br>


        
    </div>
    
    <footer>
        <a href="https://lastknightcoder.gitee.io">
            <img src="https://lastknightcoder.gitee.io/img/avatar.jpg" alt="熊滔">
            熊滔
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="https://lastknightcoder.gitee.io/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="https://lastknightcoder.gitee.io/tags/jQuery/" rel="tag">jQuery</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://lastknightcoder.gitee.io/jQuery%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B/&title=《jQuery系统教程》 — Coder&pic=https://lastknightcoder.gitee.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://lastknightcoder.gitee.io/jQuery%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B/&title=《jQuery系统教程》 — Coder&source=人生天地间，忽如远行客" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://lastknightcoder.gitee.io/jQuery%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《jQuery系统教程》 — Coder&url=https://lastknightcoder.gitee.io/jQuery%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B/&via=https://lastknightcoder.gitee.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://lastknightcoder.gitee.io/jQuery%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="https://lastknightcoder.gitee.io/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E6%9F%A5%E6%89%BE/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">二维数组中的查找</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="https://lastknightcoder.gitee.io/%E4%BD%BF%E7%94%A8before%E5%92%8Cafter%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAhover%E9%81%AE%E7%BD%A9%E6%95%88%E6%9E%9C/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">使用before和after实现一个hover遮罩效果</h4>
      </a>
    </div>
  
</nav>



    


<section class="comments" id="comments">
    <div id="disqus_thread"></div>
    <script>
    var disqus_shortname = 'lastknightcoder';
    lazyScripts.push('//' + disqus_shortname + '.disqus.com/embed.js')
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
</section>



















</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="https://lastknightcoder.gitee.io/img/wechatpay.png" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="https://lastknightcoder.gitee.io/img/wechatpay.png" data-alipay="https://lastknightcoder.gitee.io/img/alipay.png">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="https://lastknightcoder.gitee.io/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>熊滔 &copy; 2019 - 2021</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://lastknightcoder.gitee.io/jQuery%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B/&title=《jQuery系统教程》 — Coder&pic=https://lastknightcoder.gitee.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://lastknightcoder.gitee.io/jQuery%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B/&title=《jQuery系统教程》 — Coder&source=人生天地间，忽如远行客" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://lastknightcoder.gitee.io/jQuery%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《jQuery系统教程》 — Coder&url=https://lastknightcoder.gitee.io/jQuery%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B/&via=https://lastknightcoder.gitee.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://lastknightcoder.gitee.io/jQuery%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACoklEQVR42u3aUW7CQAwFQO5/aXqAKsuzHYdWmnyhAsGTSrvW875e8fU+XudPXr3bu/Nr48LDw8NbKP0dXGfG7xKv7n+us/pQ8PDw8PZ4ye1u+8lg9Z7Xg4eHh/fXeL2N5NxYJ3g8PDy8/8irljLfWh7dGPDw8PBiXn7reVz7aPuOh4eH90Qy8OptEk++Xpnv4eHh4Y2n6nm0etewPz+OEFWLh4eHt8DLi8ij2N5Bq3xVLz8gPDw8vFt5yU9Wo9UeeNIVXzbfeHh4eAu8c/ubDLp6QUY1kE0C5UIReHh4eAu8/Cd7UcW5xPm38PDw8LZ5k4FT9XBVb8w/Cojx8PDwbuXlA6d5p5o/uF7YcZm14OHh4S3wzl+uLvrzA1u94OPDZA8PDw/vVt6kuPyhVBvo+ZAMDw8Pb4NXjUTzZreaBvRi4sIGg4eHh7fGSw5OVSOGc6HVh5JsBpcbAx4eHt6YN2lbq39PkHlzH30LDw8Pb42XL/fVQvNFvBooR/Xg4eHhLfCqQ6l5uJA3zZNPfvgf4uHh4Q148/FVvohPjm31QhM8PDy8DV7SsFYLKhyKGocR0bt4eHh4C7zqMp234DmyGgc3D3Xh4eHhrfGSsX2v9Px35xsJHh4e3h4vCSN6w/vew8pb9uiTeHh4eI/zJg1xNWjI2aMAAg8PD2+NVy2oN9DqxcGF++Ph4eE9wsszjN5Bq/mBg8L2hoeHh3cr71288sdR3RLuDT7w8PDw9njVZXceGSSDruoxhRs2GDw8PLwib74Z5NvD5PFVh2F4eHh427zeYGxSSl5uHkMU3sbDw8P7Eq8aIvT6+rxx/zAAw8PDw/sSb77cT/5ejmvx8PDw1ni9WKH3uje+qm4/eHh4eHu8SVObRwm9gwW9z+Ph4eGt8X4AhwpzqPjdAbUAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: 'https://lastknightcoder.gitee.io/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>



<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" async></script>




<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>

<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="熊滔"><meta name="description" content="人生天地间，忽如远行客"><link rel="alternative" href="/atom.xml" title="Coder" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>二叉树的下一个节点 - Coder</title>
<link rel="stylesheet" href="https://lastknightcoder.gitee.io/css/main.css">

<link rel="stylesheet" href="https://lastknightcoder.gitee.io/js/fancybox/jquery.fancybox.min.css">
<!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]-->
<script src="https://lastknightcoder.gitee.io/js/jquery-3.1.1.min.js"></script>

<script src="https://lastknightcoder.gitee.io/js/fancybox/jquery.fancybox.min.js"></script>
<meta name="generator" content="Hexo 4.2.0"></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="https://lastknightcoder.gitee.io/">Coder</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="https://lastknightcoder.gitee.io/tags">标签</a></li><li class="head-nav__item"><a class="head-nav__link" href="https://lastknightcoder.gitee.io/archives">目录</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time class="post__time" datetime="2020-06-01T16:00:00.000Z">2020-06-02 00:00:00</time><h1 class="post__title"><a href="https://lastknightcoder.gitee.io/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E4%B8%8B%E4%B8%80%E4%B8%AA%E8%8A%82%E7%82%B9/">二叉树的下一个节点</a></h1><div class="post__main echo"><blockquote>
<p>题目：给定一棵二叉树和其中的一个节点，如何找出中序遍历序列的下一个节点? 树中的节点除了有两个分别指向左、右子节点的指针，还有一个指向父节点的指针。(树的中序遍历指的是先打印左子树，然后打印根节点，最后打印右子树)</p>
</blockquote>
<p>我们以下图来分析二叉树的下一个节点</p>
<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/img/20200602192821.png" width="40%"/>

<p>其中标在节点旁边的数字表示打印的顺序，比如节点 <code>4</code> 旁边标注 <code>1</code>，表示它是第一个被打印的，它的中序遍历的结果如下</p>
<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/img/20200602192943.png" width="60%"/>

<p>我们分以下几种情况分析：</p>
<ol>
<li><p>该节点有右子树，例如节点 <code>4</code>，节点 <code>3</code>等等，那么它的下一个节点就是它右子树中最左的节点，例如节点 <code>4</code> 右子树最左的节点是 <code>7</code>，所以它的下一个节点是 <code>7</code>，节点 <code>3</code> 的右子树的最左的节点是 <code>8</code>，所以它的下一个节点是 <code>8</code></p>
<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/img/20200602194252.png" width="60%"/>
</li>
<li><p>该节点没有右子树，且父节点存在，并且它是它父节点的左孩子，那么它的父节点就是它的下一个节点，所以节点 <code>5</code> 的下一个节点是节点 <code>3</code></p>
<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/img/20200602194633.png" width="60%" />
</li>
<li><p>该节点没有右子树，父节点存在，并且也不是它父节点的左孩子，如节点 <code>7</code>，那么它就要一直向上寻找，直到某个节点是它父节点的左孩子，此时父节点就是下一个节点。如节点 <code>7</code> 不是它父节点的左孩子，向上寻找，来到父节点 <code>4</code>，它是它父节点的左孩子，所以节点 <code>4</code> 的父节点 <code>2</code> 是节点 <code>7</code> 的下一个节点</p>
<img src="https://gitee.com/lastknightcoder/blogimage/raw/master/img/20200602195125.png" width="60%"/>

<p>如果向上寻找，没有找到某个节点是它父节点的左孩子，那么说明没有下一个节点，如节点 <code>6</code> 没有下一个节点</p>
</li>
<li><p>没有右子树，且父节点不存在，没有下一个节点</p>
</li>
</ol>
<p>完整代码如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NextNode</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 二叉树的定义</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> value;</span><br><span class="line">        <span class="comment">// 还有一个指向父节点的指针</span></span><br><span class="line">        BinaryTree parent;</span><br><span class="line">        BinaryTree left;</span><br><span class="line">        BinaryTree right;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">BinaryTree</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.value = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> BinaryTree <span class="title">findNext</span><span class="params">(BinaryTree node)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1. 如果有右子树，下一个节点是右子树的最左子树</span></span><br><span class="line">        <span class="keyword">if</span> (node.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            BinaryTree next = node.right;</span><br><span class="line">            <span class="keyword">while</span> (next.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">                next = next.left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> next;</span><br><span class="line">            <span class="comment">// 没有右子树，且父节点存在</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (node.parent != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// 2. 如果是父节点的左孩子</span></span><br><span class="line">            <span class="keyword">if</span> (node == node.parent.left) &#123;</span><br><span class="line">                <span class="keyword">return</span> node.parent;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 3. 如果不是父节点的左孩子，向上寻找</span></span><br><span class="line">                <span class="keyword">while</span> (node.parent != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="comment">// 直到找到某节点是它父节点的左孩子，父节点是下一个节点</span></span><br><span class="line">                    <span class="keyword">if</span> (node == node.parent.left) &#123;</span><br><span class="line">                        <span class="keyword">return</span> node.parent;</span><br><span class="line">                    &#125;</span><br><span class="line">                    node = node.parent;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 没有找到某节点是父节点的左孩子，没有下一个节点</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 4. 没有右子树，也没有父节点，那么也没有下一个节点</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="https://lastknightcoder.gitee.io/tags/%E5%89%91%E6%8C%87offer/">剑指offer</a></li></ul></footer></article><section class="reward"><a class="btn-reward" href="#">打赏</a><div class="reward-wrapper clearfix"><img src="https://lastknightcoder.gitee.io/img/wechatpay.png" title="微信"><img src="https://lastknightcoder.gitee.io/img/alipay.png" title="支付宝"></div></section></main><footer class="foot"><div class="foot-copy">&copy; 2019 - 2020 熊滔</div></footer>
<script src="https://lastknightcoder.gitee.io/js/scroller.js"></script>

<script src="https://lastknightcoder.gitee.io/js/main.js"></script>
</body></html>